{"version":3,"sources":["giphy.module.js","directives/find.directive.js","directives/findbyid.directive.js","directives/findrand.directive.js","directives/giphy.template.cache.js","services/apikey.provider.js","services/giphy.service.js"],"names":["angular","module","findGiphy","scope","q","rating","controller","findGiphyController","controllerAs","bindToController","templateUrl","giphy","vm","this","find","then","res","giphysrc","directive","$inject","findGiphyById","id","findGiphyByIdController","findById","findRandGiphy","findRandGiphyController","random","templateCache","$templateCache","put","run","ngGiphyConfig","giphyConfigProvider","setKey","giphyConfig","value","key","$get","provider","config","giphyService","$http","returnUrl","query","constructor","Array","join","get","url","data","images","original","replace","image_url","trending","limit","baseUrl","factory"],"mappings":"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","file":"ng-giphy.min.js","sourcesContent":["(function () {\n  'use strict';\n\n  angular.module('ng-giphy', []);\n\n})();\n","(function () {\n  'use strict';\n\n  angular.module('ng-giphy')\n    .directive('giphyFind', findGiphy);\n\n  /**\n   * Directive: find gif by tag\n   */\n  function findGiphy() {\n    return {\n      scope: {\n        q     : '=giphyTag',\n        rating: '='\n      },\n      controller: findGiphyController,\n      controllerAs: 'vm',\n      bindToController: true,\n      templateUrl: 'imgTemplate.html'\n    };\n  }\n\n  findGiphyController.$inject = ['giphy'];\n  /* @ngInject */\n  function findGiphyController(giphy) {\n    /* jshint validthis: true */\n    var vm = this;\n\n    giphy.find(vm.q, true).then(function (res) {\n      vm.giphysrc = res;\n    });\n  }\n\n})();\n","(function () {\n  'use strict';\n\n  angular.module('ng-giphy')\n    .directive('giphyId', findGiphyById);\n\n  /**\n   * Directive: find gif by id\n   */\n  function findGiphyById() {\n    return {\n      scope: {\n        id    : '=giphyId',\n        rating: '='\n      },\n      controller: findGiphyByIdController,\n      controllerAs: 'vm',\n      bindToController: true,\n      templateUrl: 'imgTemplate.html'\n    };\n  }\n\n  findGiphyByIdController.$inject = ['giphy'];\n  /* @ngInject */\n  function findGiphyByIdController(giphy) {\n    /* jshint validthis: true */\n    var vm = this;\n\n    giphy.findById(vm.id, true).then(function (res) {\n      vm.giphysrc = res;\n    });\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('ng-giphy')\n    .directive('giphyRand', findRandGiphy);\n\n  /**\n   * Directive: find random gif by tag\n   */\n  function findRandGiphy() {\n    return {\n      scope: {\n        q     : '=giphyTag',\n        rating: '='\n      },\n      controller: findRandGiphyController,\n      controllerAs: 'vm',\n      bindToController: true,\n      templateUrl: 'imgTemplate.html'\n    };\n  }\n\n  findRandGiphyController.$inject = ['giphy'];\n  /* @ngInject */\n  function findRandGiphyController(giphy) {\n    /* jshint validthis: true */\n    var vm = this;\n\n    giphy.random(vm.q, true).then(function (res) {\n      vm.giphysrc = res;\n    });\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('ng-giphy')\n\n    .run(templateCache);templateCache.$inject = ['$templateCache'];\n  /* @ngInject */\n  function templateCache($templateCache) {\n    $templateCache.put('imgTemplate.html', '<img ng-src=\"{{ vm.giphysrc }}\">');\n  }\n\n})();\n","(function () {\n  'use strict';\n\n  angular.module('ng-giphy')\n\n    .provider('giphyConfig', giphyConfig)\n    .config(ngGiphyConfig);\n\n  // configure the provider to use the beta key\n  ngGiphyConfig.$inject = ['giphyConfigProvider'];\n  /* @ngInject */\n  function ngGiphyConfig(giphyConfigProvider) {\n    giphyConfigProvider.setKey('dc6zaTOxFJmzC');\n  }\n\n  // giphy API key provider\n  function giphyConfig() {\n    /* jshint validthis: true */\n    this.setKey = function(value) {\n      this.key = value;\n    };\n\n    this.$get = function() {\n      return this;\n    };\n  }\n\n})();\n","(function () {\n  'use strict';\n\n  angular.module('ng-giphy')\n    .factory('giphy', giphyService);\n\n  // services to interact with Giphy API endpoints\n  giphyService.$inject = ['$http', 'giphyConfig'];\n  /* @ngInject */\n  function giphyService($http, giphyConfig) {\n\n    var baseUrl = 'http://api.giphy.com/v1/gifs';\n\n    var url = {\n      random   : baseUrl + '/random?api_key='   + giphyConfig.key,\n      find     : baseUrl + '/search?api_key='   + giphyConfig.key,\n      findById : baseUrl + '/%s?api_key='       + giphyConfig.key,\n      trending : baseUrl + '/trending?api_key=' + giphyConfig.key,\n    };\n\n    // expose the service API\n    return {\n      find        : find,\n      findById    : findById,\n      random      : random,\n      trending    : trending\n    };\n\n    /**\n     * Gets a gif url searching by tag\n     *\n     * @param {string} query\n     * @param {Boolean} returnUrl\n     * @return {string} gif url\n     */\n    function find(q, returnUrl){\n      var query = q.constructor === Array ? q.join('+') : q;\n      return $http.get(url.find + '&q=' + query).then(function (res) {\n        return returnUrl ? res.data.data[0].images.original.url : res.data.data[0];\n      });\n    }\n\n   /**\n    * Gets a gif url searching by id\n    *\n    * @param {string} gif id\n    * @param {Boolean} returnUrl\n    * @return {string} gif url\n    */\n    function findById(id, returnUrl){\n      return $http.get(url.findById.replace('%s', id)).then(function (res) {\n        return returnUrl ? res.data.data.images.original.url : res.data.data;\n      });\n    }\n\n    /**\n     * Gets a random gif url searching by tag\n     *\n     * @param {string} query\n     * @param {Boolean} returnUrl\n     * @return {string} gif url\n     */\n    function random(q, returnUrl){\n      var query = q.constructor === Array ? q.join('+') : q;\n      return $http.get(url.random + '&tag=' + query).then(function (res) {\n        return returnUrl ? res.data.data.image_url : res.data.data;\n      });\n    }\n\n    /**\n     * Fetch GIFs currently trending online. Hand curated by the Giphy editorial team.\n     * The data returned mirrors the GIFs showcased on the Giphy homepage. Returns 25 results by default.\n     *\n     * @param {Number} limit\n     * @param {Boolean} rating\n     * @return {string} gif url\n     */\n    function trending(limit, rating) {\n      return $http.get(url.trending + '&limit=' + limit).then(function (res) {\n        return res.data.data;\n      });\n    }\n  }\n\n})();\n"],"sourceRoot":"/source/"}